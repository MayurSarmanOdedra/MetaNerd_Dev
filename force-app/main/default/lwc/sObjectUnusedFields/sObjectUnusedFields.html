<template>
  <lightning-card icon-name="utility:work_forecast" variant="base">
    <div slot="title">SObjectify Unused Fields Finder</div>
    <div slot="actions"></div>
    <template lwc:if={data}>
      <div slot="footer">
        <c-a-p-i-limitation-text-footer></c-a-p-i-limitation-text-footer>
      </div>
    </template>
    <div class="slds-p-horizontal_medium slds-p-vertical_medium">
      <!-- Card Body  -->
      <template lwc:if={data}>
        <lightning-datatable
              key-field="componentName"
              data={data}
              columns={columns}
              hide-checkbox-column
              resize-column-disabled
            ></lightning-datatable>
      </template>
      <template lwc:else>
        <div class="slds-col slds-align_absolute-center slds-p-around_medium">
          <lightning-icon
            icon-name={iconName}
            alternative-text={iconAltText}
            size="large"
          ></lightning-icon>
        </div>
        <div class="slds-align_absolute-center">
          <p class="slds-text-heading_small slds-p-around_small">
            <template lwc:if={showComponentDescription}>
              Find <b>un-used custom fields</b> for selected Salesforce object with ONE click.
            </template>
            <template lwc:else>
              No <b>un-used custom fields</b> found on this SObject.
            </template>
          </p>
        </div>
        <template lwc:if={isShowVisibile}>
          <div class="slds-align_absolute-center">
            <lightning-button
              variant="brand"
              label="Show me"
              onclick={handleShowUnusedFieldsClick}
            ></lightning-button>
          </div>
        </template>
      </template>
    </div>
  </lightning-card>
</template>